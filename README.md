# pymongo-api

## Описание выполнения заданий спринта 2

Данный раздел описывает выполнение практической части спринта 2.

При работе над заданиями были созданы следующие директории:

- `mongo-sharding` - Директория содержит приложение `pymongo-api` с настроенным шардированием MongoDB;
- `mongo-sharding-repl` - Директория содержит приложение `pymongo-api` с настроенной репликацией MongoDB;
- `sharding-repl-cache` - Директория содержит приложение `pymongo-api` с настроенным кэшированием.

Каждая из указанных выше директорий содержит файл `README.md`, в котором описано как запустить и настроить конкретную версия приложения.

Так же в корне проекта лежит файл [task1.drawio](task1.drawio), в котором описана основная схема приложения и схемы для каждой версии приложения (шардирование, репликация, кэширования и т.д.).  
Основная схема содержится на странице `Main`.

Код и конфигурация основного проекта `pymongo-api` оставлена без изменений и ниже описана работа с исходной версией `pymongo-api`.  
Для изучения конкретных вариантов развития проекта `pymongo-api` см. директории, описанные выше.

## Работа с начальным приложением

### Как запустить

Запускаем mongodb и приложение

```shell
docker compose up -d
```

Заполняем mongodb данными

```shell
./scripts/mongo-init.sh
```

### Как проверить

#### Если вы запускаете проект на локальной машине

Откройте в браузере http://localhost:8080

#### Если вы запускаете проект на предоставленной виртуальной машине

Узнать белый ip виртуальной машины

```shell
curl --silent http://ifconfig.me
```

Откройте в браузере http://<ip виртуальной машины>:8080

### Доступные эндпоинты

Список доступных эндпоинтов, swagger http://<ip виртуальной машины>:8080/docs